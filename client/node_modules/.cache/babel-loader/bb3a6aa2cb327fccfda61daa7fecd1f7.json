{"ast":null,"code":"import _defineProperty from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,Form,Container,Toast}from'react-bootstrap';import Service from'../../service/Auth.service';var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);function LoginForm(props){var _this;_classCallCheck(this,LoginForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginForm).call(this,props));_this.handleInputChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState({user:_objectSpread({},_this.state.user,_defineProperty({},name,value))});};_this.handleSubmit=function(e){e.preventDefault();var _this$state$user=_this.state.user,username=_this$state$user.username,password=_this$state$user.password;_this._service.login(username,password).then(function(theLoggedUser){_this.props.setUser(theLoggedUser.data);_this.setState({username:'',password:''});_this.props.history.push('/');// REDIRECCIONAMIENTO\n}).catch(function(err){_this.handleToastOpen(err.response.data.message);});};_this.handleToastClose=function(){return _this.setState({showToast:false,toastText:''});};_this.handleToastOpen=function(text){return _this.setState({showToast:true,toastText:text});};_this._service=new Service();_this.state={showToast:false,toastText:'',user:{username:'',password:''}};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){return React.createElement(Container,null,React.createElement(\"h1\",null,\"Iniciar sesi\\xF3n\"),React.createElement(Form,{onSubmit:this.handleSubmit},React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Usuario\"),React.createElement(Form.Control,{type:\"text\",name:\"username\",onChange:this.handleInputChange,value:this.state.username})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Contrase\\xF1a\"),React.createElement(Form.Control,{type:\"password\",name:\"password\",onChange:this.handleInputChange,value:this.state.password})),React.createElement(Button,{variant:\"dark\",type:\"submit\"},\"Iniciar sesi\\xF3n\")),React.createElement(Toast,{onClose:this.handleToastClose,show:this.state.showToast,delay:2000,autohide:true,style:{position:'fixed',left:'170px',bottom:'250px',minWidth:'150px'}},React.createElement(Toast.Header,null,React.createElement(\"strong\",{className:\"mr-auto\"},\"Error\")),React.createElement(Toast.Body,null,this.state.toastText)));}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"sources":["/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/src/components/auth/Login.js"],"names":["React","Component","Button","Form","Container","Toast","Service","LoginForm","props","handleInputChange","e","target","name","value","setState","user","state","handleSubmit","preventDefault","username","password","_service","login","then","theLoggedUser","setUser","data","history","push","catch","err","handleToastOpen","response","message","handleToastClose","showToast","toastText","text","position","left","bottom","minWidth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Button, Form, Container, Toast } from 'react-bootstrap'\n\nimport Service from '../../service/Auth.service'\n\nclass LoginForm extends Component {\n\n    constructor(props) {\n        super(props)\n        this._service = new Service()\n        this.state = {\n            showToast: false,\n            toastText: '',\n            user: { username: '', password: '' }\n        }\n    }\n\n\n    handleInputChange = e => {\n        let { name, value } = e.target\n        this.setState({\n            user: { ...this.state.user, [name]: value }\n        })\n    }\n\n\n    handleSubmit = e => {\n        e.preventDefault()\n        const { username, password } = this.state.user\n        this._service.login(username, password)\n            .then(theLoggedUser => {\n                this.props.setUser(theLoggedUser.data)\n                this.setState({ username: '', password: '' })\n                this.props.history.push('/')            // REDIRECCIONAMIENTO\n            })\n            .catch(err => {\n                this.handleToastOpen(err.response.data.message)\n            })\n    }\n\n    handleToastClose = () => this.setState({ showToast: false, toastText: '' })\n    handleToastOpen = text => this.setState({ showToast: true, toastText: text })\n\n\n    render() {\n        return (\n            <Container>\n\n                <h1>Iniciar sesión</h1>\n\n                <Form onSubmit={this.handleSubmit}>\n                    <Form.Group>\n                        <Form.Label>Usuario</Form.Label>\n                        <Form.Control type=\"text\" name=\"username\" onChange={this.handleInputChange} value={this.state.username} />\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Contraseña</Form.Label>\n                        <Form.Control type=\"password\" name=\"password\" onChange={this.handleInputChange} value={this.state.password} />\n                    </Form.Group>\n                    <Button variant=\"dark\" type=\"submit\">Iniciar sesión</Button>\n                </Form>\n\n                <Toast\n                    onClose={this.handleToastClose}\n                    show={this.state.showToast}\n                    delay={2000}\n                    autohide\n                    style={{\n                        position: 'fixed',\n                        left: '170px',\n                        bottom: '250px',\n                        minWidth: '150px'\n                    }}>\n                    <Toast.Header>\n                        <strong className=\"mr-auto\">Error</strong>\n                    </Toast.Header>\n                    <Toast.Body>{this.state.toastText}</Toast.Body>\n                </Toast>\n\n            </Container >\n        )\n    }\n}\n\n\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}