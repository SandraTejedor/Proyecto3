{"ast":null,"code":"import _classCallCheck from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import NationalService from\"../../service/Nacional.service\";import{Container,Row,Button,Modal}from\"react-bootstrap\";// import CoasterCard from \"./Coaster-card\";\n// import CoasterForm from \"./Coaster-form\";\nimport MyOrderCard from\"../../components/LoteriaNacional/NacionalOrder-Card\";var MyNationalOrder=/*#__PURE__*/function(_React$Component){_inherits(MyNationalOrder,_React$Component);function MyNationalOrder(props){var _this;_classCallCheck(this,MyNationalOrder);_this=_possibleConstructorReturn(this,_getPrototypeOf(MyNationalOrder).call(this,props));_this.componentDidMount=function(){return _this.updateNationalList();};_this.updateNationalList=function(){_this._nationalService.myOrderList().then(function(nacional){console.log(nacional);_this.setState({nacional:nacional.data});}).catch(function(err){return console.log(\"Error\",err);});};_this._nationalService=new NationalService();_this.state={bonoloto:[],primitiva:[],gordo:[],euromillon:[]};return _this;}_createClass(MyNationalOrder,[{key:\"render\",// deleteHandler = id => {\n//   this._nationalService\n//     .deleteOrder(id)\n//     .then(x => this.updateNationalList())\n//     .catch(err => console.log(\"Error\", err));\n// };\nvalue:function render(){var _this2=this;return React.createElement(\"section\",null,React.createElement(Container,null,React.createElement(\"h1\",null,\"Lista de pedidos de \",this.props.loggedInUser.username,\" de Loter\\xEDa Nacional:\"),React.createElement(Row,null,this.state.nacional.sort(function(a,b){if(a.fechaSorteo>b.fechaSorteo){return 1;}if(a.fechaSorteo<b.fechaSorteo){return-1;}else{if(a.numero>b.numero){return 1;}if(a.numero<b.numero){return-1;}// a must be equal to b\nelse{if(a.serie>b.serie){return 1;}if(a.serie<b.serie){return-1;}else{if(a.fraccion>b.fraccion){return 1;}if(a.fraccion<b.fraccion){return-1;}}}}}).map(function(nacional){return React.createElement(MyOrderCard,Object.assign({key:nacional._id},nacional,{delete:_this2.deleteHandler,updateNationalList:_this2.updateNationalList}));}))));}}]);return MyNationalOrder;}(React.Component);export default MyNationalOrder;","map":{"version":3,"sources":["/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/src/components/auth/myOrders.js"],"names":["React","NationalService","Container","Row","Button","Modal","MyOrderCard","MyNationalOrder","props","componentDidMount","updateNationalList","_nationalService","myOrderList","then","nacional","console","log","setState","data","catch","err","state","bonoloto","primitiva","gordo","euromillon","loggedInUser","username","sort","a","b","fechaSorteo","numero","serie","fraccion","map","_id","deleteHandler","Component"],"mappings":"yyBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CAEA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,MAAzB,CAAiCC,KAAjC,KAA8C,iBAA9C,CAEA;AACA;AACA,MAAOC,CAAAA,WAAP,KAAwB,qDAAxB,C,GAEMC,CAAAA,e,qFACJ,yBAAYC,KAAZ,CAAmB,iDACjB,iFAAMA,KAAN,GADiB,MAWnBC,iBAXmB,CAWC,iBAAM,OAAKC,kBAAL,EAAN,EAXD,OAanBA,kBAbmB,CAaE,UAAM,CACzB,MAAKC,gBAAL,CACGC,WADH,GAEGC,IAFH,CAEQ,SAAAC,QAAQ,CAAI,CAChBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA,MAAKG,QAAL,CAAc,CAAEH,QAAQ,CAAEA,QAAQ,CAACI,IAArB,CAAd,EACD,CALH,EAMGC,KANH,CAMS,SAAAC,GAAG,QAAIL,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBI,GAArB,CAAJ,EANZ,EAOD,CArBkB,CAEjB,MAAKT,gBAAL,CAAwB,GAAIV,CAAAA,eAAJ,EAAxB,CACA,MAAKoB,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,SAAS,CAAE,EAFA,CAGXC,KAAK,CAAE,EAHI,CAIXC,UAAU,CAAE,EAJD,CAAb,CAHiB,aASlB,C,4CAaD;AACA;AACA;AACA;AACA;AACA;uBAES,iBACP,MACE,oCACE,oBAAC,SAAD,MACE,qDAAyB,KAAKjB,KAAL,CAAWkB,YAAX,CAAwBC,QAAjD,4BADF,CAGE,oBAAC,GAAD,MASG,KAAKN,KAAL,CAAWP,QAAX,CACEc,IADF,CACO,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACd,GAAID,CAAC,CAACE,WAAF,CAAgBD,CAAC,CAACC,WAAtB,CAAmC,CACjC,MAAO,EAAP,CACD,CACD,GAAIF,CAAC,CAACE,WAAF,CAAgBD,CAAC,CAACC,WAAtB,CAAmC,CACjC,MAAO,CAAC,CAAR,CACD,CAFD,IAEO,CACL,GAAIF,CAAC,CAACG,MAAF,CAAWF,CAAC,CAACE,MAAjB,CAAyB,CACvB,MAAO,EAAP,CACD,CACD,GAAIH,CAAC,CAACG,MAAF,CAAWF,CAAC,CAACE,MAAjB,CAAyB,CACvB,MAAO,CAAC,CAAR,CACD,CACD;AAHA,IAIK,CACH,GAAIH,CAAC,CAACI,KAAF,CAAUH,CAAC,CAACG,KAAhB,CAAuB,CACrB,MAAO,EAAP,CACD,CACD,GAAIJ,CAAC,CAACI,KAAF,CAAUH,CAAC,CAACG,KAAhB,CAAuB,CACrB,MAAO,CAAC,CAAR,CACD,CAFD,IAEO,CACL,GAAIJ,CAAC,CAACK,QAAF,CAAaJ,CAAC,CAACI,QAAnB,CAA6B,CAC3B,MAAO,EAAP,CACD,CACD,GAAIL,CAAC,CAACK,QAAF,CAAaJ,CAAC,CAACI,QAAnB,CAA6B,CAC3B,MAAO,CAAC,CAAR,CACD,CACF,CACF,CACF,CACF,CA/BF,EAgCEC,GAhCF,CAgCM,SAAArB,QAAQ,QACX,qBAAC,WAAD,gBACE,GAAG,CAAEA,QAAQ,CAACsB,GADhB,EAEMtB,QAFN,EAGE,MAAM,CAAE,MAAI,CAACuB,aAHf,CAIE,kBAAkB,CAAE,MAAI,CAAC3B,kBAJ3B,GADW,EAhCd,CATH,CAHF,CADF,CADF,CA0DD,C,6BAzF2BV,KAAK,CAACsC,S,EA4FpC,cAAe/B,CAAAA,eAAf","sourcesContent":["import React from \"react\";\n\nimport NationalService from \"../../service/Nacional.service\";\n\nimport { Container, Row, Button, Modal } from \"react-bootstrap\";\n\n// import CoasterCard from \"./Coaster-card\";\n// import CoasterForm from \"./Coaster-form\";\nimport MyOrderCard from \"../../components/LoteriaNacional/NacionalOrder-Card\";\n\nclass MyNationalOrder extends React.Component {\n  constructor(props) {\n    super(props);\n    this._nationalService = new NationalService();\n    this.state = {\n      bonoloto: [],\n      primitiva: [],\n      gordo: [],\n      euromillon: []\n    };\n  }\n\n  componentDidMount = () => this.updateNationalList();\n\n  updateNationalList = () => {\n    this._nationalService\n      .myOrderList()\n      .then(nacional => {\n        console.log(nacional);\n        this.setState({ nacional: nacional.data });\n      })\n      .catch(err => console.log(\"Error\", err));\n  };\n  // deleteHandler = id => {\n  //   this._nationalService\n  //     .deleteOrder(id)\n  //     .then(x => this.updateNationalList())\n  //     .catch(err => console.log(\"Error\", err));\n  // };\n\n  render() {\n    return (\n      <section>\n        <Container>\n          <h1>Lista de pedidos de {this.props.loggedInUser.username} de Loter√≠a Nacional:</h1>\n\n          <Row>\n            {/* {this.state.nacional.map(nacional => (\n              <NationalCard\n                key={nacional._id}\n                {...nacional}\n                delete={this.deleteHandler}\n                updateNationalList={this.updateNationalList}\n              />\n            )).sort()} */}\n            {this.state.nacional\n              .sort((a, b) => {\n                if (a.fechaSorteo > b.fechaSorteo) {\n                  return 1;\n                }\n                if (a.fechaSorteo < b.fechaSorteo) {\n                  return -1;\n                } else {\n                  if (a.numero > b.numero) {\n                    return 1;\n                  }\n                  if (a.numero < b.numero) {\n                    return -1;\n                  }\n                  // a must be equal to b\n                  else {\n                    if (a.serie > b.serie) {\n                      return 1;\n                    }\n                    if (a.serie < b.serie) {\n                      return -1;\n                    } else {\n                      if (a.fraccion > b.fraccion) {\n                        return 1;\n                      }\n                      if (a.fraccion < b.fraccion) {\n                        return -1;\n                      }\n                    }\n                  }\n                }\n              })\n              .map(nacional => (\n                <MyOrderCard\n                  key={nacional._id}\n                  {...nacional}\n                  delete={this.deleteHandler}\n                  updateNationalList={this.updateNationalList}\n                />\n              ))}\n          </Row>\n        </Container>\n      </section>\n    );\n  }\n}\n\nexport default MyNationalOrder;\n"]},"metadata":{},"sourceType":"module"}