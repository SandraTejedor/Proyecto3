{"ast":null,"code":"import _classCallCheck from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import NationalService from\"../../service/Nacional.service\";import{Container,Row}from\"react-bootstrap\";// import CoasterCard from \"./Coaster-card\";\n// import CoasterForm from \"./Coaster-form\";\nimport NationalCard from\"./Nacional-Card\";var NationalList=/*#__PURE__*/function(_React$Component){_inherits(NationalList,_React$Component);function NationalList(props){var _this;_classCallCheck(this,NationalList);_this=_possibleConstructorReturn(this,_getPrototypeOf(NationalList).call(this,props));_this.componentDidMount=function(){return _this.updateNationalList();};_this.updateNationalList=function(){_this._nationalService.nacionalList().then(function(nacional){return _this.setState({nacional:nacional.data});}).catch(function(err){return console.log(\"Error\",err);});};_this.deleteHandler=function(id){_this._nationalService.delete(id).then(function(x){return _this.updateNationalList();}).catch(function(err){return console.log(\"Error\",err);});};_this.handleSearchChange=function(e){return _this.setState({search:e.target.value});};_this._nationalService=new NationalService();_this.state={nacional:[],otro:\"\",search:\"\"};return _this;}_createClass(NationalList,[{key:\"render\",value:function render(){var _this2=this;var filterItems=function filterItems(){var buscar=_this2.state.search;return _this2.state.nacional.filter(function(el){return el.numero.toLowerCase().indexOf(buscar.toLowerCase())>-1||el.fechaSorteo.toLowerCase().indexOf(buscar.toLowerCase())>-1;});};return React.createElement(\"section\",null,React.createElement(Container,null,React.createElement(\"h1\",null,\"D\\xE9cimos disponibles online:\"),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"search\"},\"Buscar por n\\xFAmero\"),React.createElement(\"input\",{name:\"search\",type:\"text\",className:\"form-control\",id:\"search\",value:this.state.search,onChange:this.handleSearchChange})),React.createElement(Row,null,filterItems().sort(function(a,b){if(a.fechaSorteo>b.fechaSorteo){return 1;}if(a.fechaSorteo<b.fechaSorteo){return-1;}else{if(a.numero>b.numero){return 1;}if(a.numero<b.numero){return-1;}// a must be equal to b\nelse{if(a.serie>b.serie){return 1;}if(a.serie<b.serie){return-1;}else{if(a.fraccion>b.fraccion){return 1;}if(a.fraccion<b.fraccion){return-1;}}}}}).map(function(nacional){return React.createElement(NationalCard,Object.assign({key:nacional._id},nacional,{delete:_this2.deleteHandler,updateNationalList:_this2.updateNationalList}));}))));}}]);return NationalList;}(React.Component);export default NationalList;","map":{"version":3,"sources":["/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/src/components/LoteriaNacional/list.js"],"names":["React","NationalService","Container","Row","NationalCard","NationalList","props","componentDidMount","updateNationalList","_nationalService","nacionalList","then","nacional","setState","data","catch","err","console","log","deleteHandler","id","delete","x","handleSearchChange","e","search","target","value","state","otro","filterItems","buscar","filter","el","numero","toLowerCase","indexOf","fechaSorteo","sort","a","b","serie","fraccion","map","_id","Component"],"mappings":"yyBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CAEA,OAASC,SAAT,CAAoBC,GAApB,KAA+B,iBAA/B,CAEA;AACA;AACA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,C,GAEMC,CAAAA,Y,kFACJ,sBAAYC,KAAZ,CAAmB,8CACjB,8EAAMA,KAAN,GADiB,MAUnBC,iBAVmB,CAUC,iBAAM,OAAKC,kBAAL,EAAN,EAVD,OAYnBA,kBAZmB,CAYE,UAAM,CACzB,MAAKC,gBAAL,CACGC,YADH,GAEGC,IAFH,CAEQ,SAAAC,QAAQ,QAAI,OAAKC,QAAL,CAAc,CAAED,QAAQ,CAAEA,QAAQ,CAACE,IAArB,CAAd,CAAJ,EAFhB,EAGGC,KAHH,CAGS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,GAArB,CAAJ,EAHZ,EAID,CAjBkB,OAkBnBG,aAlBmB,CAkBH,SAAAC,EAAE,CAAI,CACpB,MAAKX,gBAAL,CACGY,MADH,CACUD,EADV,EAEGT,IAFH,CAEQ,SAAAW,CAAC,QAAI,OAAKd,kBAAL,EAAJ,EAFT,EAGGO,KAHH,CAGS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,GAArB,CAAJ,EAHZ,EAID,CAvBkB,OAwBnBO,kBAxBmB,CAwBE,SAAAC,CAAC,QAAI,OAAKX,QAAL,CAAc,CAAEY,MAAM,CAAED,CAAC,CAACE,MAAF,CAASC,KAAnB,CAAd,CAAJ,EAxBH,CAEjB,MAAKlB,gBAAL,CAAwB,GAAIR,CAAAA,eAAJ,EAAxB,CACA,MAAK2B,KAAL,CAAa,CACXhB,QAAQ,CAAE,EADC,CAEXiB,IAAI,CAAE,EAFK,CAGXJ,MAAM,CAAE,EAHG,CAAb,CAHiB,aAQlB,C,gEAiBQ,iBACP,GAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAIC,CAAAA,MAAM,CAAG,MAAI,CAACH,KAAL,CAAWH,MAAxB,CACA,MAAO,CAAA,MAAI,CAACG,KAAL,CAAWhB,QAAX,CAAoBoB,MAApB,CACL,SAAAC,EAAE,QACAA,CAAAA,EAAE,CAACC,MAAH,CAAUC,WAAV,GAAwBC,OAAxB,CAAgCL,MAAM,CAACI,WAAP,EAAhC,EAAwD,CAAC,CAAzD,EACAF,EAAE,CAACI,WAAH,CAAeF,WAAf,GAA6BC,OAA7B,CAAqCL,MAAM,CAACI,WAAP,EAArC,EAA6D,CAAC,CAF9D,EADG,CAAP,CAKD,CAPD,CAQA,MACE,oCACE,oBAAC,SAAD,MACE,+DADF,CAEE,2BAAK,SAAS,CAAC,YAAf,EACE,6BAAO,OAAO,CAAC,QAAf,yBADF,CAEE,6BACE,IAAI,CAAC,QADP,CAEE,IAAI,CAAC,MAFP,CAGE,SAAS,CAAC,cAHZ,CAIE,EAAE,CAAC,QAJL,CAKE,KAAK,CAAE,KAAKP,KAAL,CAAWH,MALpB,CAME,QAAQ,CAAE,KAAKF,kBANjB,EAFF,CAFF,CAcE,oBAAC,GAAD,MASGO,WAAW,GACTQ,IADF,CACO,SAACC,CAAD,CAAIC,CAAJ,CAAU,CACd,GAAID,CAAC,CAACF,WAAF,CAAgBG,CAAC,CAACH,WAAtB,CAAmC,CACjC,MAAO,EAAP,CACD,CACD,GAAIE,CAAC,CAACF,WAAF,CAAgBG,CAAC,CAACH,WAAtB,CAAmC,CACjC,MAAO,CAAC,CAAR,CACD,CAFD,IAEO,CACL,GAAIE,CAAC,CAACL,MAAF,CAAWM,CAAC,CAACN,MAAjB,CAAyB,CACvB,MAAO,EAAP,CACD,CACD,GAAIK,CAAC,CAACL,MAAF,CAAWM,CAAC,CAACN,MAAjB,CAAyB,CACvB,MAAO,CAAC,CAAR,CACD,CACD;AAHA,IAIK,CACH,GAAIK,CAAC,CAACE,KAAF,CAAUD,CAAC,CAACC,KAAhB,CAAuB,CACrB,MAAO,EAAP,CACD,CACD,GAAIF,CAAC,CAACE,KAAF,CAAUD,CAAC,CAACC,KAAhB,CAAuB,CACrB,MAAO,CAAC,CAAR,CACD,CAFD,IAEO,CACL,GAAIF,CAAC,CAACG,QAAF,CAAaF,CAAC,CAACE,QAAnB,CAA6B,CAC3B,MAAO,EAAP,CACD,CACD,GAAIH,CAAC,CAACG,QAAF,CAAaF,CAAC,CAACE,QAAnB,CAA6B,CAC3B,MAAO,CAAC,CAAR,CACD,CACF,CACF,CACF,CACF,CA/BF,EAgCEC,GAhCF,CAgCM,SAAA/B,QAAQ,QACX,qBAAC,YAAD,gBACE,GAAG,CAAEA,QAAQ,CAACgC,GADhB,EAEMhC,QAFN,EAGE,MAAM,CAAE,MAAI,CAACO,aAHf,CAIE,kBAAkB,CAAE,MAAI,CAACX,kBAJ3B,GADW,EAhCd,CATH,CAdF,CADF,CADF,CAqED,C,0BAxGwBR,KAAK,CAAC6C,S,EA2GjC,cAAexC,CAAAA,YAAf","sourcesContent":["import React from \"react\";\n\nimport NationalService from \"../../service/Nacional.service\";\n\nimport { Container, Row } from \"react-bootstrap\";\n\n// import CoasterCard from \"./Coaster-card\";\n// import CoasterForm from \"./Coaster-form\";\nimport NationalCard from \"./Nacional-Card\";\n\nclass NationalList extends React.Component {\n  constructor(props) {\n    super(props);\n    this._nationalService = new NationalService();\n    this.state = {\n      nacional: [],\n      otro: \"\",\n      search: \"\"\n    };\n  }\n\n  componentDidMount = () => this.updateNationalList();\n\n  updateNationalList = () => {\n    this._nationalService\n      .nacionalList()\n      .then(nacional => this.setState({ nacional: nacional.data }))\n      .catch(err => console.log(\"Error\", err));\n  };\n  deleteHandler = id => {\n    this._nationalService\n      .delete(id)\n      .then(x => this.updateNationalList())\n      .catch(err => console.log(\"Error\", err));\n  };\n  handleSearchChange = e => this.setState({ search: e.target.value });\n  render() {\n    const filterItems = () => {\n      let buscar = this.state.search;\n      return this.state.nacional.filter(\n        el =>\n          el.numero.toLowerCase().indexOf(buscar.toLowerCase()) > -1 ||\n          el.fechaSorteo.toLowerCase().indexOf(buscar.toLowerCase()) > -1\n      );\n    };\n    return (\n      <section>\n        <Container>\n          <h1>Décimos disponibles online:</h1>\n          <div className=\"form-group\">\n            <label htmlFor=\"search\">Buscar por número</label>\n            <input\n              name=\"search\"\n              type=\"text\"\n              className=\"form-control\"\n              id=\"search\"\n              value={this.state.search}\n              onChange={this.handleSearchChange}\n            />\n          </div>\n\n          <Row>\n            {/* {this.state.nacional.map(nacional => (\n              <NationalCard\n                key={nacional._id}\n                {...nacional}\n                delete={this.deleteHandler}\n                updateNationalList={this.updateNationalList}\n              />\n            )).sort()} */}\n            {filterItems()\n              .sort((a, b) => {\n                if (a.fechaSorteo > b.fechaSorteo) {\n                  return 1;\n                }\n                if (a.fechaSorteo < b.fechaSorteo) {\n                  return -1;\n                } else {\n                  if (a.numero > b.numero) {\n                    return 1;\n                  }\n                  if (a.numero < b.numero) {\n                    return -1;\n                  }\n                  // a must be equal to b\n                  else {\n                    if (a.serie > b.serie) {\n                      return 1;\n                    }\n                    if (a.serie < b.serie) {\n                      return -1;\n                    } else {\n                      if (a.fraccion > b.fraccion) {\n                        return 1;\n                      }\n                      if (a.fraccion < b.fraccion) {\n                        return -1;\n                      }\n                    }\n                  }\n                }\n              })\n              .map(nacional => (\n                <NationalCard\n                  key={nacional._id}\n                  {...nacional}\n                  delete={this.deleteHandler}\n                  updateNationalList={this.updateNationalList}\n                />\n              ))}\n          </Row>\n        </Container>\n      </section>\n    );\n  }\n}\n\nexport default NationalList;\n"]},"metadata":{},"sourceType":"module"}