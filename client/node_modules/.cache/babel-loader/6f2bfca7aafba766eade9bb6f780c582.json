{"ast":null,"code":"import _defineProperty from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Button,Form,Container,Toast}from\"react-bootstrap\";import Service from\"../../service/Auth.service\";var SignupForm=/*#__PURE__*/function(_Component){_inherits(SignupForm,_Component);function SignupForm(props){var _this;_classCallCheck(this,SignupForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignupForm).call(this,props));_this.handleSubmit=function(e){e.preventDefault();var _this$state$user=_this.state.user,username=_this$state$user.username,password=_this$state$user.password,email=_this$state$user.email,perfil=_this$state$user.perfil;_this._service.signup(username,password,email,perfil).then(function(theNewUser){_this.props.setUser(theNewUser.data);_this.setState({username:\"\",password:\"\",email:\"\",perfil:\"\"});_this.props.history.push('/');}).catch(function(err){return _this.handleToastOpen(err.response.data.message);});};_this.handleInputChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState({user:_objectSpread({},_this.state.user,_defineProperty({},name,value))});};_this.handleToastClose=function(){return _this.setState({showToast:false,toastText:\"\"});};_this.handleToastOpen=function(text){return _this.setState({showToast:true,toastText:text});};_this._service=new Service();_this.state={user:{username:\"\",password:\"\",email:\"\",perfil:\"\"},showToast:false,toastText:\"\"};return _this;}_createClass(SignupForm,[{key:\"render\",value:function render(){return React.createElement(Container,null,React.createElement(\"h1\",null,\"Registro\"),React.createElement(Form,{onSubmit:this.handleSubmit},React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Usuario\"),React.createElement(Form.Control,{type:\"text\",name:\"username\",onChange:this.handleInputChange,value:this.state.username})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Contrase\\xF1a\"),React.createElement(Form.Control,{type:\"password\",name:\"password\",onChange:this.handleInputChange,value:this.state.password})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Email\"),React.createElement(Form.Control,{type:\"email\",name:\"email\",onChange:this.handleInputChange,value:this.state.email})),React.createElement(Button,{variant:\"dark\",type:\"submit\"},\"Registrarme\")),React.createElement(Toast,{onClose:this.handleToastClose,show:this.state.showToast,delay:2000,autohide:true,style:{position:\"fixed\",left:\"170px\",bottom:\"250px\",minWidth:\"150px\"}},React.createElement(Toast.Header,null,React.createElement(\"strong\",{className:\"mr-auto\"},\"Error\")),React.createElement(Toast.Body,null,this.state.toastText)));}}]);return SignupForm;}(Component);export default SignupForm;","map":{"version":3,"sources":["/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/src/components/auth/Signup.js"],"names":["React","Component","Button","Form","Container","Toast","Service","SignupForm","props","handleSubmit","e","preventDefault","state","user","username","password","email","perfil","_service","signup","then","theNewUser","setUser","data","setState","history","push","catch","err","handleToastOpen","response","message","handleInputChange","target","name","value","handleToastClose","showToast","toastText","text","position","left","bottom","minWidth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Form, Container, Toast } from \"react-bootstrap\";\n\nimport Service from \"../../service/Auth.service\";\n\nclass SignupForm extends Component {\n  constructor(props) {\n    super(props);\n    this._service = new Service();\n    this.state = {\n      user: { username: \"\", password: \"\" , email: \"\" , perfil:\"\"},\n      showToast: false,\n      toastText: \"\"\n    };\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { username, password, email, perfil } = this.state.user;\n    this._service\n      .signup(username, password, email, perfil)\n      .then(theNewUser => {\n        this.props.setUser(theNewUser.data);\n        this.setState({ username: \"\", password: \"\", email: \"\", perfil: \"\" });\n        this.props.history.push('/') \n      })\n        .catch(err => this.handleToastOpen(err.response.data.message));\n  };\n\n  handleInputChange = e => {\n    let { name, value } = e.target;\n      this.setState({ user: { ...this.state.user, [name]: value } });\n  };\n\n  handleToastClose = () => this.setState({ showToast: false, toastText: \"\" });\n  handleToastOpen = text => this.setState({ showToast: true, toastText: text });\n\n  render() {\n    return (\n      <Container>\n        <h1>Registro</h1>\n\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group>\n            <Form.Label>Usuario</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"username\"\n              onChange={this.handleInputChange}\n              value={this.state.username}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Contrase√±a</Form.Label>\n            <Form.Control\n              type=\"password\"\n              name=\"password\"\n              onChange={this.handleInputChange}\n              value={this.state.password}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Email\n            </Form.Label>\n            <Form.Control\n              type=\"email\"\n              name=\"email\"\n              onChange={this.handleInputChange}\n              value={this.state.email}\n            />\n          </Form.Group>\n          <Button variant=\"dark\" type=\"submit\">\n            Registrarme\n          </Button>\n        </Form>\n        <Toast\n          onClose={this.handleToastClose}\n          show={this.state.showToast}\n          delay={2000}\n          autohide\n          style={{\n            position: \"fixed\",\n            left: \"170px\",\n            bottom: \"250px\",\n            minWidth: \"150px\"\n          }}\n        >\n          <Toast.Header>\n            <strong className=\"mr-auto\">Error</strong>\n          </Toast.Header>\n          <Toast.Body>{this.state.toastText}</Toast.Body>\n        </Toast>\n      </Container>\n    );\n  }\n}\n\nexport default SignupForm;\n"]},"metadata":{},"sourceType":"module"}