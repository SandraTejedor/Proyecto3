{"ast":null,"code":"import _classCallCheck from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import axios from\"axios\";import{saveAs}from\"file-saver\";var PdfCreator=/*#__PURE__*/function(_Component){_inherits(PdfCreator,_Component);function PdfCreator(props){var _this;_classCallCheck(this,PdfCreator);_this=_possibleConstructorReturn(this,_getPrototypeOf(PdfCreator).call(this,props));_this.createAndDownloadPdf=function(){_this.props.pdfGenerated();axios.post(\"\".concat(process.env.REACT_APP_URL_API,\"create-pdf\"),_this.state).then(function(){return axios.get(\"\".concat(process.env.REACT_APP_URL_API,\"fetch-pdf/\").concat(_this.props.email),{responseType:\"blob\"});}).then(function(res){var pdfBlob=new Blob([res.data],{type:\"application/pdf\"});saveAs(pdfBlob,\"newPdf.pdf\");}).catch(function(err){return console.log(\"Error\",err);});};_this.state={};return _this;}_createClass(PdfCreator,[{key:\"componentDidMount\",value:function componentDidMount(){this.createAndDownloadPdf();}//handleChange = ({target: {value, name}}) => this.setState({[name]: value})\n},{key:\"render\",value:function render(){return React.createElement(React.Fragment,null);}}]);return PdfCreator;}(Component);export default PdfCreator;","map":{"version":3,"sources":["/Users/sandratejedordelso/Desktop/Ironhack/Bootcamp/semana8/Proyecto3/client/src/components/vendor/PdfCreator.js"],"names":["React","Component","axios","saveAs","PdfCreator","props","createAndDownloadPdf","pdfGenerated","post","process","env","REACT_APP_URL_API","state","then","get","email","responseType","res","pdfBlob","Blob","data","type","catch","err","console","log"],"mappings":"yyBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,KAAuB,YAAvB,C,GAEMC,CAAAA,U,oEACJ,oBAAYC,KAAZ,CAAmB,4CACjB,4EAAMA,KAAN,GADiB,MAWnBC,oBAXmB,CAWI,UAAM,CAC3B,MAAKD,KAAL,CAAWE,YAAX,GACAL,KAAK,CACFM,IADH,WACWC,OAAO,CAACC,GAAR,CAAYC,iBADvB,eACsD,MAAKC,KAD3D,EAEGC,IAFH,CAEQ,iBACJX,CAAAA,KAAK,CAACY,GAAN,WACKL,OAAO,CAACC,GAAR,CAAYC,iBADjB,sBAC+C,MAAKN,KAAL,CAAWU,KAD1D,EAEE,CAAEC,YAAY,CAAE,MAAhB,CAFF,CADI,EAFR,EAQGH,IARH,CAQQ,SAAAI,GAAG,CAAI,CACX,GAAMC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,CAAS,CAACF,GAAG,CAACG,IAAL,CAAT,CAAqB,CAAEC,IAAI,CAAE,iBAAR,CAArB,CAAhB,CACAlB,MAAM,CAACe,OAAD,CAAU,YAAV,CAAN,CACD,CAXH,EAYGI,KAZH,CAYS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,GAArB,CAAJ,EAZZ,EAaD,CA1BkB,CAEjB,MAAKX,KAAL,CAAa,EAAb,CAFiB,aAGlB,C,oFAEmB,CAClB,KAAKN,oBAAL,GACD,CAED;uCAmBS,CACP,MAAO,yCAAP,CACD,C,wBA/BsBL,S,EAkCzB,cAAeG,CAAAA,UAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { saveAs } from \"file-saver\";\n\nclass PdfCreator extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.createAndDownloadPdf();\n  }\n\n  //handleChange = ({target: {value, name}}) => this.setState({[name]: value})\n\n  createAndDownloadPdf = () => {\n    this.props.pdfGenerated();\n    axios\n      .post(`${process.env.REACT_APP_URL_API}create-pdf`, this.state)\n      .then(() =>\n        axios.get(\n          `${process.env.REACT_APP_URL_API}fetch-pdf/${this.props.email}`,\n          { responseType: \"blob\" }\n        )\n      )\n      .then(res => {\n        const pdfBlob = new Blob([res.data], { type: \"application/pdf\" });\n        saveAs(pdfBlob, \"newPdf.pdf\");\n      })\n      .catch(err => console.log(\"Error\", err));\n  };\n\n  render() {\n    return <></>;\n  }\n}\n\nexport default PdfCreator;\n"]},"metadata":{},"sourceType":"module"}